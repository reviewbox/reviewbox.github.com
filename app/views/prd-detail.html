<md-content>
    <ul class="breadcrumb prod">
        <li><a href="/">Home</a> <span class="divider"></span></li>
        <li ng-if="product.category.parent.data.parent"><a href="/category/{{ product.category.parent.data.parent.data.slug }}">{{ product.category.parent.data.parent.data.title }}</a> <span class="divider"></span></li>
        <li ng-if="product.category.parent">
            <a href="/category/{{ product.category.parent.data.slug }}">{{ product.category.parent.data.title }}</a> <span class="divider"></span></li>
        <li><a href="/category/{{ product.category.slug }}">{{ product.category.title }}</a>
            <span class="divider"></span></li>
        <li class="active">{{ product.title }}</li>
    </ul>

    <div class="row product-info">
        <div class="col-md-6">
            <img class="image" src="{{ product.images[0].url.https }}">
            <div class="image-additional">
                <a ng-repeat="image in product.images" class="cloud-zoom-gallery" ng-click="switchImage(image.url.http)"><img alt="Image" ng-src="{{ Page.image.resize(image, 74, 74) }}" /></a>
            </div>
        </div>
        <div class="col-md-6">
            <h1>{{ product.title }}</h1>
            <div class="line"></div>
            <ul>
                <li ng-if="product.brand"><span>Brand:</span> <a href="/brand/{{ product.brand.slug }}">{{ product.brand.value }}</a></li>
                <li><span>Product Code:</span> {{ product.sku }}</li>
                <li><span>Availability: </span> {{ product.stock_status.value }}</li>
                <li ng-if="product.collection">
                    <span>Collection: </span>
                    <a href="/collection/{{ product.collection.data.slug }}">{{ product.collection.data.title }}</a></li>
                <li ng-if="product.brand">
                    <span>Brand: </span> <a href="/brand/{{ product.brand.data.slug }}">{{ product.brand.value }}</a>
                </li>
            </ul>
            <div class="price" ng-if="product.on_sale.data.key == 1">
                Price <span class="strike">{{ product.price.value }}</span> <strong>&pound;{{ product.sale_price }}.00</strong>
            </div>
            <div class="price" ng-if="product.on_sale.data.key != 1">
                Price <strong>{{ product.price.value }}</strong>
            </div>
            <div id="modifiers">
                <select ng-repeat="modifier in modifiers" ng-if="modifier.type.data.key == 'variant'" ng-model="mods[modifier.id]" name="modifier[{{ modifier.id }}]" title="{{ modifier.title }}" ng-mod="{{ modifier.id }}">
                    <option value="0">{{ modifier.title }}</option>
                    <option value="{{ variation.id }}" ng-repeat="variation in modifier.variations">{{ variation.title }}</option>
                </select>
            </div>
            <div class="line"></div>
            <form class="form-inline product-add">
                <md-button ng-id="{{ product.id }}" ng-qty="#qty" ng-mod="#modifiers" class="btn btn-primary" cart-insert>Add to Cart</md-button>
                <label>Qty:</label> <input type="text" placeholder="1" id="qty" class="col-md-1" />
            </form>
            <div class="tabs">
                <ul class="nav nav-tabs" id="myTab">
                    <li class="active"><a href="#description">Description</a></li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active" id="home">
                        {{ product.description }}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="related" ng-if="products">
        <h3 class="related">Related products</h3>
        <div class="row">
            <div class="col-md-3" ng-repeat="product in products">
                <div class="product">
                    <div class="product_sale" ng-if="product.on_sale.data.key == 1">Sale</div>
                    <a href="/product/{{ product.slug }}" class="img-cont"><img alt="{{ product.title }}" ng-src="{{ Page.image.resize(product.image, 213, 213) }}" /></a>
                    <div class="name">
                        <a href="/product/{{ product.slug }}">{{ product.title }}</a>
                    </div>
                    <div class="price">
                        <p>{{ product.pricing.formatted.with_tax }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</md-content>
<md-content>
    <div class="row">
        <div class="col-md-12">
            <div class="breadcrumbs">
                <ul class="breadcrumb">
                    <li><a href="/">Home</a> <span class="divider"></span></li>
                    <li><a href="/cart">Shopping Cart</a> <span class="divider"></span></li>
                    <li><a href="/checkout">Checkout</a> <span class="divider"></span></li>
                    <li class="active">Payment</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <h2>Payment</h2>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3">
            <div class="loginbox">
                <p>Billing Address</p>
                <ul>
                    <li>{{ order.bill_to.data.first_name }} {{ order.bill_to.data.last_name }}</li>
                    <li ng-if="order.bill_to.data.company">{{ order.bill_to.data.company }}</li>
                    <li>{{ order.bill_to.data.address_1 }}</li>
                    <li>{{ order.bill_to.data.address_2 }}</li>
                    <li>{{ order.bill_to.data.county }}</li>
                    <li>{{ order.bill_to.data.postcode }}</li>
                    <li>{{ order.bill_to.data.country.value }}</li>
                </ul>
            </div>
        </div>
        <div class="col-md-3">
            <div class="loginbox">
                <p>Shipping Address</p>
                <ul>
                    <li>{{ order.ship_to.data.first_name }} {{ order.ship_to.data.last_name }}</li>
                    <li ng-if="order.ship_to.data.company">{{ order.ship_to.data.company }}</li>
                    <li>{{ order.ship_to.data.address_1 }}</li>
                    <li>{{ order.ship_to.data.address_2 }}</li>
                    <li>{{ order.ship_to.data.county }}</li>
                    <li>{{ order.ship_to.data.postcode }}</li>
                    <li>{{ order.ship_to.data.country.value }}</li>
                </ul>
            </div>
        </div>
        <div class="col-md-6">
            <form class="loginbox form-horizontal">
                <p>Payment</p>
                <div class="form-group">
                    <label class="control-label col-md-4" for="card">Card Number <span class="required">*</span></label>
                    <div class="col-md-8">
                        <input class="form-control" id="card" ng-model="data.number" type="text" card-format />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-4" for="expiry_month">Expiry Date <span class="required">*</span></label>
                    <div class="col-md-4">
                        <input class="form-control" id="expiry_month" ng-model="data.expiry_month" type="text" placeholder="DD" />
                    </div>
                    <div class="col-md-4">
                        <input class="form-control" id="expiry_year" ng-model="data.expiry_year" type="text" placeholder="YYYY" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-4" for="start_month">Start Date</label>
                    <div class="col-md-4">
                        <input class="form-control" id="start_month" ng-model="data.start_month" type="text" placeholder="DD" />
                    </div>
                    <div class="col-md-4">
                        <input class="form-control" id="start_year" ng-model="data.start_year" type="text" placeholder="YYYY" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-4" for="cv2">CV2 <span class="required">*</span></label>
                    <div class="col-md-4">
                        <input class="form-control" id="cv2" ng-model="data.cvv" type="text" />
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-12">
                        <button class="btn btn-primary" type="button" ng-click="payment(data)">Pay</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</md-content>
<md-content layout="row">
    <pre>{{product | json}}</pre>
    <div>
        <img style="height:320px; width:auto;" ng-src="{{product.images[0].url.https}}">
        <div> {{product.id}}</div>
        <div> {{product.title}}</div>
        <div> {{product.price.value}}</div>
        <div> {{product.description}}</div>
        <div> {{product.brand.value}}</div>
        <md-button class="md-primary" ng-click="addCart(product.id, 1)"> Cart </md-button>
        <md-button class="md-primary" ng-click="checkCart()" > Cart Info </md-button>
        <md-button class="md-primary" ng-click="payment()"> Check Out </md-button>
        <md-button class="md-warn" ng-click="deleteCart()">Delete Cart</md-button>
        <pre>{{cartPrd | json}}</pre>
    </div>
</md-content>

